<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rWinePredictor">
<title>rWinePredictor-vignette • rWinePredictor</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="rWinePredictor-vignette">
<meta property="og:description" content="rWinePredictor">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">rWinePredictor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/rWinePredictor-vignette.html">rWinePredictor-vignette</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sidahuja1/rWinePredictor/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>rWinePredictor-vignette</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/sidahuja1/rWinePredictor/blob/HEAD/vignettes/rWinePredictor-vignette.Rmd" class="external-link"><code>vignettes/rWinePredictor-vignette.Rmd</code></a></small>
      <div class="d-none name"><code>rWinePredictor-vignette.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="welcome-to-rwinepredictor">Welcome to rWinePredictor!<a class="anchor" aria-label="anchor" href="#welcome-to-rwinepredictor"></a>
</h2>
<p>The <code>rWinePredictor</code> package is designed to assist with
the building and testing of binary classification models. While
originally created to predict wine quality using wine properties, this
package can be used in other classification models. The functions
included allow users to:</p>
<ul>
<li><p>Conduct EDA grouped by the classes in the target factor</p></li>
<li><p>Create tailored line plots</p></li>
<li><p>Calculate model statistics (accuracy, precision, and recall)
quickly and easily</p></li>
</ul>
<p>To get started, we load the packages <code>rWinePredictor</code> and
<code>dplyr</code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/sidahuja1/rWinePredictor" class="external-link">rWinePredictor</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="data">Data<a class="anchor" aria-label="anchor" href="#data"></a>
</h2>
<p>The original dataset used in the analysis of wine quality can be
found <a href="https://archive.ics.uci.edu/dataset/186/wine+quality" class="external-link">here</a>.
However, to emphasize the universal usage of this package, we will use
the <code>mtcars</code> dataset in this vignette. Because this is a
binary classification problem, we will first identify the target fetaure
(in this case, number of cylinders), filter for only 4 or 6 cyclinder
cars, drop the car name index and other factor features, and convert the
cyclinder column to a factor.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">cyl</span> <span class="op">&lt;</span> <span class="fl">8</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">mpg</span>, <span class="va">cyl</span>, <span class="va">disp</span>, <span class="va">hp</span>, <span class="va">drat</span>, <span class="va">wt</span>, <span class="va">qsec</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="co">#&gt;    mpg cyl  disp  hp drat    wt  qsec</span></span>
<span><span class="co">#&gt; 1 21.0   6 160.0 110 3.90 2.620 16.46</span></span>
<span><span class="co">#&gt; 2 21.0   6 160.0 110 3.90 2.875 17.02</span></span>
<span><span class="co">#&gt; 3 22.8   4 108.0  93 3.85 2.320 18.61</span></span>
<span><span class="co">#&gt; 4 21.4   6 258.0 110 3.08 3.215 19.44</span></span>
<span><span class="co">#&gt; 5 18.1   6 225.0 105 2.76 3.460 20.22</span></span>
<span><span class="co">#&gt; 6 24.4   4 146.7  62 3.69 3.190 20.00</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="generate_summary_stats">generate_summary_stats<a class="anchor" aria-label="anchor" href="#generate_summary_stats"></a>
</h2>
<p>As part of EDA, we may want to get the number of 4 and 6 cylinder
cars in the dataset along with the mean values for feature of each
cyclinder class. To do so, we can use
<code>generate_summary_stats</code> as seen below:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">eda</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/generate_summary_stats.html">generate_summary_stats</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">cyl</span><span class="op">)</span></span>
<span><span class="va">eda</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 9</span></span></span>
<span><span class="co">#&gt;   cyl   count percentage mpg_avg disp_avg hp_avg drat_avg wt_avg qsec_avg</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> 4        11       61.1    26.7     105.   82.6     4.07   2.29     19.1</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> 6         7       38.9    19.7     183.  122.      3.59   3.12     18.0</span></span></code></pre></div>
<p>The resulting summary table provides us with some insight about the
dataset. We can see that it has grouped the classes in our specified
target column, counted the observations (in <code>count</code>) and then
proceeded to calculate the mean of all the features for both cylinder
classes.</p>
</div>
<div class="section level2">
<h2 id="create_lineplot">create_lineplot<a class="anchor" aria-label="anchor" href="#create_lineplot"></a>
</h2>
<p>This function was initially built to compare accuracies across
different k values for a K-NN model. However, it has many purposes and
can be used to plot any numerical value on the y-axis against any
continuous numerical value, like time on the x-axis. Using a toy
dataframe and <code>create_lineplot</code>, we can plot the accuracy
against the k-value.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">acc_k</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  acc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">0.75</span>, <span class="fl">0.73</span>, <span class="fl">0.7</span>, <span class="fl">0.68</span>, <span class="fl">0.62</span><span class="op">)</span>,</span>
<span>  k_val <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">6</span>, <span class="fl">11</span>, <span class="fl">16</span>, <span class="fl">21</span>, <span class="fl">26</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/create_lineplot.html">create_lineplot</a></span><span class="op">(</span><span class="va">acc_k</span>, <span class="va">k_val</span>, <span class="va">acc</span><span class="op">)</span></span>
<span></span>
<span><span class="va">lp</span></span></code></pre></div>
<p><img src="rWinePredictor-vignette_files/figure-html/lineplot-1.png" width="672"></p>
</div>
<div class="section level2">
<h2 id="calculate_model_metric">calculate_model_metric<a class="anchor" aria-label="anchor" href="#calculate_model_metric"></a>
</h2>
<p>After constructing the binary classification model, users may want to
calculate either the accuracy, precision, or recall. Using
<code>calculate_model_metric</code> makes this easy and quick. To
demonstrate, we will use the two class dataset from the parsnip
package.</p>
<p>From the scatterplot, we can see that there is some correlation
between <code>width</code> and <code>injuries</code>. However, this
correlation does not seem to be very strong. Despite this small
correlation, we will create a linear regression model using
<code>width</code> as a predictor and <code>injuries</code> as the
target. To do this, we can use the function
<code>fit_linear_model</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/tidymodels/yardstick" class="external-link">yardstick</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">preds_df</span> <span class="op">=</span> <span class="fu">yardstick</span><span class="fu">::</span><span class="va"><a href="https://yardstick.tidymodels.org/reference/two_class_example.html" class="external-link">two_class_example</a></span></span>
<span></span>
<span><span class="va">accuracy</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_model_metric.html">calculate_model_metric</a></span><span class="op">(</span><span class="va">preds_df</span>, truth_col<span class="op">=</span><span class="st">'truth'</span>, predictions_col<span class="op">=</span><span class="st">'predicted'</span>, metric<span class="op">=</span><span class="st">"accuracy"</span><span class="op">)</span></span>
<span><span class="va">precision</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_model_metric.html">calculate_model_metric</a></span><span class="op">(</span><span class="va">preds_df</span>, truth_col<span class="op">=</span><span class="st">'truth'</span>, predictions_col<span class="op">=</span><span class="st">'predicted'</span>, metric<span class="op">=</span><span class="st">"precision"</span><span class="op">)</span></span>
<span><span class="va">recall</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/calculate_model_metric.html">calculate_model_metric</a></span><span class="op">(</span><span class="va">preds_df</span>, truth_col<span class="op">=</span><span class="st">'truth'</span>, predictions_col<span class="op">=</span><span class="st">'predicted'</span>, metric<span class="op">=</span><span class="st">"recall"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Accuracy = "</span>, <span class="va">accuracy</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Accuracy =  0.838"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Precision = "</span>, <span class="va">precision</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Precision =  0.819494584837545"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Recall = "</span>, <span class="va">recall</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Recall =  0.87984496124031"</span></span></code></pre></div>
<p>This document has highlighted all the functions of the
<code>rWinePredictor</code> package. You are now set to use this package
in your analysis.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Sid Ahuja.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
